{"ast":null,"code":"import React,{useState}from'react';import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';import'./CreateBlogSection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateBlogSection=_ref=>{let{onCreate}=_ref;const[newBlog,setNewBlog]=useState({slug:'',title:'',description:'',content:''});// Atualiza o slug quando o usuário digita\nconst handleSlugChange=e=>{const slug=e.target.value;setNewBlog({...newBlog,slug});};// Atualiza os demais campos do formulário\nconst handleInputChange=e=>{const{name,value}=e.target;setNewBlog({...newBlog,[name]:value});};// Atualiza o conteúdo do editor de texto rico\nconst handleContentChange=content=>{setNewBlog({...newBlog,content});};// Função para criar um novo blog\nconst handleCreateBlog=async()=>{const blogToCreate={...newBlog,image:`https://bfbaby.com.br/up/blog-${Date.now()}.png`,imageBanner:`https://bfbaby.com.br/up/materia-${Date.now()}.png`,image2:`https://bfbaby.com.br/up/pageblog-${Date.now()}.png`,link:`/materia/${newBlog.slug}`};try{const response=await fetch('http://localhost:3001/api/blogs',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(blogToCreate)});const data=await response.json();if(response.ok){onCreate(data);setNewBlog({slug:'',title:'',description:'',content:''});alert('Blog criado com sucesso!');}else{console.error(\"Erro ao criar o blog:\",data.message);alert('Erro ao criar o blog.');}}catch(error){console.error(\"Erro ao fazer a requisição:\",error);alert('Erro ao criar o blog.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-blog-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"create-blog-title\",children:\"Criar Novo Blog\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"slug\",value:newBlog.slug,onChange:handleSlugChange,className:\"form-control\",placeholder:\"Slug\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:newBlog.title,onChange:handleInputChange,className:\"form-control\",placeholder:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:newBlog.description,onChange:handleInputChange,className:\"form-control\",placeholder:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(ReactQuill,{value:newBlog.content,onChange:handleContentChange,placeholder:\"Escreva a mat\\xE9ria do blog aqui...\",className:\"blog-quill-editor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-group\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateBlog,className:\"create-button\",children:\"Criar Blog\"})})]})]});};export default CreateBlogSection;","map":{"version":3,"names":["React","useState","ReactQuill","jsx","_jsx","jsxs","_jsxs","CreateBlogSection","_ref","onCreate","newBlog","setNewBlog","slug","title","description","content","handleSlugChange","e","target","value","handleInputChange","name","handleContentChange","handleCreateBlog","blogToCreate","image","Date","now","imageBanner","image2","link","response","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","console","error","message","className","children","type","onChange","placeholder","onClick"],"sources":["C:/Users/Usuário/3D Objects/o_melhor_colchao/src/Pages/AdminPage/components/Blog/CreateBlogSection.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport './CreateBlogSection.css';\r\n\r\nconst CreateBlogSection = ({ onCreate }) => {\r\n    const [newBlog, setNewBlog] = useState({\r\n        slug: '',\r\n        title: '',\r\n        description: '',\r\n        content: '',\r\n    });\r\n\r\n    // Atualiza o slug quando o usuário digita\r\n    const handleSlugChange = (e) => {\r\n        const slug = e.target.value;\r\n        setNewBlog({ ...newBlog, slug });\r\n    };\r\n\r\n    // Atualiza os demais campos do formulário\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setNewBlog({ ...newBlog, [name]: value });\r\n    };\r\n\r\n    // Atualiza o conteúdo do editor de texto rico\r\n    const handleContentChange = (content) => {\r\n        setNewBlog({ ...newBlog, content });\r\n    };\r\n\r\n    // Função para criar um novo blog\r\n    const handleCreateBlog = async () => {\r\n        const blogToCreate = {\r\n            ...newBlog,\r\n            image: `https://bfbaby.com.br/up/blog-${Date.now()}.png`,\r\n            imageBanner: `https://bfbaby.com.br/up/materia-${Date.now()}.png`,\r\n            image2: `https://bfbaby.com.br/up/pageblog-${Date.now()}.png`,\r\n            link: `/materia/${newBlog.slug}`\r\n        };\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:3001/api/blogs', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(blogToCreate),\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                onCreate(data);\r\n                setNewBlog({\r\n                    slug: '',\r\n                    title: '',\r\n                    description: '',\r\n                    content: '',\r\n                });\r\n                alert('Blog criado com sucesso!');\r\n            } else {\r\n                console.error(\"Erro ao criar o blog:\", data.message);\r\n                alert('Erro ao criar o blog.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Erro ao fazer a requisição:\", error);\r\n            alert('Erro ao criar o blog.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"create-blog-section\">\r\n            <h2 className=\"create-blog-title\">Criar Novo Blog</h2>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"slug\"\r\n                    value={newBlog.slug}\r\n                    onChange={handleSlugChange}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Slug\"\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    value={newBlog.title}\r\n                    onChange={handleInputChange}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Título\"\r\n                />\r\n                <textarea\r\n                    name=\"description\"\r\n                    value={newBlog.description}\r\n                    onChange={handleInputChange}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Descrição\"\r\n                />\r\n                <ReactQuill\r\n                    value={newBlog.content}\r\n                    onChange={handleContentChange}\r\n                    placeholder=\"Escreva a matéria do blog aqui...\"\r\n                    className=\"blog-quill-editor\"\r\n                />\r\n                <div className=\"button-group\">\r\n                    <button onClick={handleCreateBlog} className=\"create-button\">Criar Blog</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateBlogSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}